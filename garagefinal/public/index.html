<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="styles.css">
    <title>Garage V. Parrot</title>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">Garage V. Parrot</a>
            <img src="/logo.png" alt="Logo du Garage" height="30" class="d-inline-block align-top">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="http://mafr7435.odns.fr/index.html">Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://mafr7435.odns.fr/nos-services">Nos
                            services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://mafr7435.odns.fr/Nosoccasions.html">Nos occasions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://mafr7435.odns.fr/Nouscontacter.html">Nous
                            contacter</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://mafr7435.odns.fr/login">Connexion
                            </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Parallax Image Section -->
    <div class="parallax py-5">
        <!-- Contenu parallax ici -->
    </div>

    <!-- Presentation Section -->
    <section class="presentation py-5">
        <div class="container">
            <h2 class="text-center mb-4">Garage V. Parrot, le garage de confiance pour votre voiture</h2>
            <p>Vincent Parrot, garagiste expérimenté, vous accueille dans son garage multimarque à Toulouse.Depuis 2021,
                il propose une large gamme de services de réparation et d'entretien de votre voiture :
                Réparation mécanique,réparation de carrosserie,entretien régulier,Vente de véhicules d'occasion
                Vincent Parrot et son équipe de professionnels vous garantissent un service de qualité, personnalisé et
                adapté à vos besoins.</p>
        </div>
    </section>

    <section class="services py-5">
        <div class="container">
            <h2 class="text-center mb-4">Nos Services</h2>
            <div class="row">
                <div class="col-md-4" data-aos="fade-left" data-aos-duration="600" data-aos-delay="200">

                    <div class="service-item">
                        <img src="Frein2.jpg" alt="Service Freins" class="service-img img-fluid">
                        <div class="service-description">
                            <h3>Service Freins</h3>
                            <p>La sécurité est notre priorité numéro un. Si vous avez des problèmes...</p>
                            <a href="nos-services.html#serviceFreins" class="btn btn-link">En savoir plus</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4" data-aos="fade-left" data-aos-duration="600" data-aos-delay="400">

                    <div class="service-item">
                        <img src="vidange.jpg" alt="Vidanges" class="service-img img-fluid">
                        <div class="service-description">
                            <h3>Vidanges</h3>
                            <p>L'huile joue un rôle crucial dans le bon fonctionnement...</p>
                            <a href="nos-services.html#serviceVidanges" class="btn btn-link">En savoir plus</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4" data-aos="fade-left" data-aos-duration="600" data-aos-delay="600">

                    <div class="service-item">
                        <img src="entretien.jpg" alt="Entretien Annuel" class="service-img img-fluid">
                        <div class="service-description">
                            <h3>Entretien Annuel</h3>
                            <p>Un entretien régulier est essentiel pour maintenir...</p>
                            <a href="nos-services.html#serviceEntretien" class="btn btn-link">En savoir plus</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bouton pour voir tous les services Button to see all services -->
            <div class="text-center mt-4">
                <a href="nos-services.html" class="btn btn-primary">Voir tous nos services disponibles</a>
            </div>
        </div>
    </section>

    <section class="occasions py-5">
        <div class="container">
            <h2 class="text-center mb-4">Nos Véhicules d'occasion</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="occasion-item">
                        <img src="cayenne.jpg" alt="Voiture 1" class="occasion-img img-fluid">
                        <div class="occasion-description" data-aos="fade-left" data-aos-duration="400"
                            data-aos-delay="200">
                            <h3>Modèle de la voiture 1</h3>
                            <p>Description détaillée de la voiture 1...</p>
                            <a href="nos-services.html#voiture1" class="btn btn-link">En savoir plus</a>
                            <a href="#" class="btn btn-link" data-toggle="modal" data-target="#contactModal"
                                data-vehicle="Modèle de la voiture 1">Nous contacter</a>


                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="occasion-item">
                        <img src="911 cabriolet.jpg" alt="Voiture 2" class="occasion-img img-fluid">
                        <div class="occasion-description" data-aos="fade-left" data-aos-duration="400"
                            data-aos-delay="400">
                            <h3>Modèle de la voiture 2</h3>
                            <p>Description détaillée de la voiture 2...</p>
                            <a href="nos-services.html#voiture2" class="btn btn-link">En savoir plus</a>
                            <a href="#" class="btn btn-link" data-toggle="modal" data-target="#contactModal"
                                data-vehicle="Modèle de la voiture 2">Nous contacter</a>


                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="occasion-item">
                        <img src="cayman.jpg" alt="Voiture 3" class="occasion-img img-fluid">
                        <div class="occasion-description" data-aos="fade-left" data-aos-duration="400"
                            data-aos-delay="600">
                            <h3>Modèle de la voiture 3</h3>
                            <p>Description détaillée de la voiture 3...</p>
                            <a href="nos-services.html#voiture3" class="btn btn-link">En savoir plus</a>
                            <a href="#" class="btn btn-link" data-toggle="modal" data-target="#contactModal"
                                data-vehicle="Modèle de la voiture 3">Nous contacter</a>


                        </div>
                    </div>
                </div>

                <!-- Bouton pour voir tous les véhicules  Button to see all vehicles-->
                <div class="text-center mt-4">
                    <a href="Nosoccasions.html" class="btn btn-primary">Voir tous nos véhicules disponibles</a>
                </div>
            </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials bg-light py-5">
        <div class="container">
            <h2 class="text-center mb-4">Découvrez nos avis client</h2>
            <div class="row">
                <% approvedTestimonials.forEach(testimonial=> { %>
                    <div class="testimonial">
                        <p class="rating">
                            <%= testimonial.rating %>/5
                        </p>
                        <p class="name"><strong>
                                <%= testimonial.name %>
                            </strong></p>
                        <p class="comment">"<%= testimonial.comment %>"</p>
                    </div>
                    <% }); %>

            </div>
            <!-- Bouton pour ouvrir le modal Button to open the modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#testimonialModal">
                Je laisse un commentaire
            </button>

            <!-- Modal -->
            <div class="modal fade" id="testimonialModal" tabindex="-1" role="dialog"
                aria-labelledby="testimonialModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="testimonialModalLabel">Laissez un commentaire</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="testimonialForm">
                                <div class="form-group">
                                    <label for="name">Nom</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                                <div class="form-group">
                                    <label for="comment">Commentaire</label>
                                    <textarea class="form-control" id="comment" rows="3" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="rating">Note</label>
                                    <select class="form-control" id="rating" required>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-primary">Soumettre</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </section>

    <!-- Brands Section -->
    <section class="brands py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">Ils nous font confiance</h2>

            <div class="row justify-content-center">
                <!-- Logo 1 -->
                <div class="col-md-3 text-center mb-4">
                    <img src="Porsche-Logo-PNGzeevector.com_.png" alt="Constructeur 1" class="img-fluid brand-logo">
                </div>

                <!-- Logo 2 -->
                <div class="col-md-3 text-center mb-4">
                    <img src="580b57fcd9996e24bc43c48c.png" alt="Constructeur 2" class="img-fluid brand-logo">
                </div>

                <!-- Logo 3 -->
                <div class="col-md-3 text-center mb-4">
                    <img src="580b57fcd9996e24bc43c48f.png" alt="Constructeur 3" class="img-fluid brand-logo">
                </div>

                <!-- Logo 4 -->
                <div class="col-md-3 text-center mb-4">
                    <img src="580b585b2edbce24c47b2c52.png" alt="Constructeur 4" class="img-fluid brand-logo">
                </div>
            </div>
        </div>
    </section>

    <section class="slider">
        <div id="carSlider" class="carousel slide" data-ride="carousel" data-interval="4000">

            <!-- Indicateurs -->
            <ol class="carousel-indicators">
                <li data-target="#carSlider" data-slide-to="0" class="active"></li>
                <li data-target="#carSlider" data-slide-to="1"></li>
            </ol>

            <!-- Slides -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-md-4">
                            <img src="cayenne.jpg" class="d-block w-100" alt="Image 1">
                        </div>
                        <div class="col-md-4">
                            <img src="cayman.jpg" class="d-block w-100" alt="Image 2">
                        </div>
                        <div class="col-md-4">
                            <img src="911 cabriolet.jpg" class="d-block w-100" alt="Image 3">
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-4">
                            <img src="cayenne dos.jpg" class="d-block w-100" alt="Image 4">
                        </div>
                        <div class="col-md-4">
                            <img src="cayman dos.jpg" class="d-block w-100" alt="Image 5">
                        </div>
                        <div class="col-md-4">
                            <img src="911 cab dos.jpg" class="d-block w-100" alt="Image 6">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contrôles -->
            <a class="carousel-control-prev" href="#carSlider" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Précédent</span>
            </a>
            <a class="carousel-control-next" href="#carSlider" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Suivant</span>
            </a>
        </div>
    </section>

    <footer class="site-footer">
        <div class="container">
            <div class="row">

                <!-- Section gauche: Horaires / Left section: Schedules -->
                <div class="col-md-4">
                    <h4>Nos horaires</h4>
                    <ul class="opening-hours" id="hoursList">
                        <li>Lundi: 08:45-12:00, 14:00-18:00</li>
                        <li>Mardi: 08:45-12:00, 14:00-18:00</li>
                        <li>Mercredi: 08:45-12:00, 14:00-18:00</li>
                        <li>Jeudi: 08:45-12:00, 14:00-18:00</li>
                        <li>Vendredi: 08:45-12:00, 14:00-18:00</li>
                        <li>Samedi: 08:45-12:00</li>
                        <li>Dimanche: Fermé</li>
                    </ul>
                </div>

                <!-- Section centrale: Logo -->
                <div class="col-md-4 text-center">
                    <img src="/logo.png" alt="Nom du Garage" class="footer-logo">
                </div>

                <!-- Section droite: Infos diverses / Right section: Miscellaneous information -->
                <div class="col-md-4">
                    <h4>Informations</h4>
                    <ul>
                        <li>Mention légales</li>
                        <li>Téléphone:0388380925</li>
                        <li>Email: <a href="mailto:service.client@vparrot.com">service.client@vparrot.com</a></li>
                        <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#contactModal">Nous
                            contacter</a>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="scripts.js"></script>
    <script>
        AOS.init();
    </script>
    <!-- Script pour mettre à jour les horaires / Script to update schedules -->
    <script>
        const joursEnFrancais = {
            'Monday': 'Lundi',
            'Tuesday': 'Mardi',
            'Wednesday': 'Mercredi',
            'Thursday': 'Jeudi',
            'Friday': 'Vendredi',
            'Saturday': 'Samedi',
            'Sunday': 'Dimanche'
        };

        $(document).ready(function () {
            $.get('http://mafr7435.odns.fr/api/hours', function (hours) {
                console.log("Horaires récupérés:", hours);
                let hoursHtml = '';
                hours.forEach(hour => {
                    hoursHtml += `<li>${joursEnFrancais[hour.day]}: ${hour.openTime}-${hour.closeTime}</li>`;
                });
                $('#hoursList').html(hoursHtml);
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            fetch('/approved')
                .then(response => response.json())
                .then(testimonials => {
                    const testimonialsSection = document.querySelector('.testimonials .row');
                    testimonialsSection.innerHTML = '';

                    testimonials.forEach(testimonial => {
                        const testimonialDiv = document.createElement('div');
                        testimonialDiv.className = 'col-md-6 mb-4';
                        testimonialDiv.innerHTML = `
                        <div class="testimonial-item p-3 bg-white">
                            <div class="testimonial-rating mb-3">${testimonial.rating}/5</div>
                            <p><strong>${testimonial.name}:</strong> "${testimonial.comment}"</p>
                        </div>
                    `;
                        testimonialsSection.appendChild(testimonialDiv);
                    });
                })
                .catch(error => {
                    console.error('Erreur lors de la récupération des témoignages:', error);
                });
        });
    </script>
    <script>
        document.getElementById('testimonialForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const comment = document.getElementById('comment').value;
            const rating = document.getElementById('rating').value;

            fetch('/admin/testimonials/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: name,
                    comment: comment,
                    rating: rating
                })
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Merci pour votre commentaire ! Il sera affiché après validation.');
                        document.getElementById('testimonialForm').reset();
                        $('#testimonialModal').modal('hide');
                    } else {
                        alert('Erreur lors de la soumission. Veuillez réessayer.');
                    }
                })
                .catch(error => {
                    console.error('Erreur:', error);
                    alert('Erreur lors de la soumission. Veuillez réessayer.');
                });
        });
    </script>
    <script>
        $(document).ready(function () {
            $('[data-toggle="modal"]').click(function () {
                const vehicleModel = $(this).data('vehicle');
                if (vehicleModel) {
                    $('#subject').val('Demande concernant ' + vehicleModel);
                }
            });
        });

    </script>
    <!-- Modal -->
    <div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="contactModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="contactModalLabel">Nous contacter</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="/contact" method="post">
                        <div class="form-group row">
                            <label for="firstName" class="col-sm-4 col-form-label">Prénom:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="firstName" name="firstName" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="lastName" class="col-sm-4 col-form-label">Nom:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="lastName" name="lastName" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="email" class="col-sm-4 col-form-label">Adresse e-mail:</label>
                            <div class="col-sm-8">
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="phone" class="col-sm-4 col-form-label">Numéro de téléphone:</label>
                            <div class="col-sm-8">
                                <input type="tel" class="form-control" id="phone" name="phone" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="subject" class="col-sm-4 col-form-label">Sujet:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="subject" name="subject">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="message" class="col-sm-4 col-form-label">Message:</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" id="message" name="message" required></textarea>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12 text-right">
                                <input type="submit" class="btn btn-primary" value="Envoyer">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>

</html>